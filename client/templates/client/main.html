{% load staticfiles %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <title> KHUSB </title>
    <link rel="stylesheet" href="{% static 'css/main.css' %}" type="text/css"/>
    <link rel="stylesheet" href="//unpkg.com/bootstrap@4/dist/css/bootstrap.min.css">
    <script src='//unpkg.com/jquery@3/dist/jquery.min.js'></script>
    <script src='//unpkg.com/popper.js@1/dist/umd/popper.min.js'></script>
    <script src='//unpkg.com/bootstrap@4/dist/js/bootstrap.min.js'></script>
    <script src='{% static 'js/main.js' %}'></script>

</head>
<body>
<input type="hidden" id="token" name="token" value="{{ token }}">
\<input type="hidden" id="path" name="path" value="{{ path }}">
<div class="main_page">
    <nav>
        <div class="nav">
            <profile_pic>
                <div class="prof_pic">
                    <img src="{% static 'css/main_image/dalgomi.png' %}">
                </div>
            </profile_pic>
            <id>
                <p>
                    <a>{{ username }}</a>
                    &nbsp;&nbsp;
                    <a href="#settings"><img src="{% static 'css/main_image/config.png' %}"
                                             style="width:20px;height:20px;"></a>
                </p>
            </id>

            <load>
                <div id="load">
                    <a href="#uploadModal" data-toggle="modal" data-target="#uploadModal"><img
                            src="{% static 'css/main_image/upload.png' %}"
                            style="width:30px;height:30px;display:block;margin-left:auto;margin-right:auto;padding-top:5px"></a>
                </div>
                <div id="load">
                    <a href="#download"><img src="{% static 'css/main_image/download.png' %}"
                                             style="width:30px;height:30px;display:block;margin-left:auto;margin-right:auto;padding-top:5px"></a>
                </div>
            </load>

            <directory>
                <ul>
                    <li><a href="#stars">즐겨찾기</a></li>
                    <li><a href="#recent">최근 수정한 파일</a></li>
                    <li><a href="#added">최근 추가한 파일</a></li>
                </ul>
            </directory>

            <rocket>
                <div id="rocket">
                    <img src="{% static 'css/main_image/rocket.png' %}" style="width:50px;height:50px">

                    <a href="/logout/" class="font">로그아웃</a>
                </div>
            </rocket>

        </div>
    </nav>
    <header>
        <div class="header">
            <logo>
                <p>KHUSB</p>
            </logo>
            <search>
                <form>
                    <input type="text" name="search" placeholder="Search..">
                </form>
            </search>
            <space></space>
            <d_day>
            </d_day>
        </div>
    </header>
    <path>
        <p>/HOME{{ path }}</p>
    </path>
    <main>
        <table class="table" id="Table">
            <tr>
                <th>파일명&nbsp;<img class="sort-icon" src="{% static 'css/main_image/sort.png' %}" onclick="sortTable(0)">
                </th>
                <th>수정한 시간&nbsp;<img class="sort-icon" src="{% static 'css/main_image/sort.png' %}"
                                     onclick="sortTable(1)"></th>
                <th>파일 유형&nbsp;<img class="sort-icon" src="{% static 'css/main_image/sort.png' %}"/></th>
                <th>중요&nbsp;<img class="sort-icon" src="{% static 'css/main_image/sort.png' %}" onclick="sortTable(2)">
                </th>
            </tr>
            {% if path != '/' %}
                <tr class="hover">
                    <td><a class="folder" href="/list{{ parent }}">..</a></td>
                    <td>{{ item.modified }}</td>
                    <td>folder</td>
                    <td>★</td>
                </tr>
            {% endif %}
            {% for item in items %}
                {% if item.is_directory %}

                    <tr class="hover">
                        <td><a class="folder" href="/list{{ item.path }}">{{ item.name }}/</a></td>
                        <td>{{ item.modified }}</td>
                        <td>folder</td>
                        <td>★</td>
                    </tr>
                {% endif %}
            {% endfor %}
            {% for item in items %}
                {% if not item.is_directory %}
                    <tr class="hover">
                        <td><a class="file" href="/download{{ item.path }}">{{ item.name }}</a></td>
                        <td>{{ item.modified }}</td>
                        <td>file</td>
                        <td>☆</td>
                    </tr>
                {% endif %}
            {% endfor %}

        </table>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#uploadModal">업로드</button>
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#createDirectoryModal">폴더생성
        </button>
    </main>
    <footer>
        <p>Cloud Computing KHUSB team<br>
            Contact information: hyunjin.gmail.com, woojin.gmail.com, yerin.gmail.com, myungho.gmail.com</p>
    </footer>
</div>
<div id="uploadModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="uploadModal" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Upload file</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div id="uploaditems">
                    <table class="table" id="uploadeditem">

                    </table>
                </div>
                <input type="file" id="uploadInput" multiple style="margin-left: 3%;">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="uploadBtn">Upload</button>
            </div>
        </div>
    </div>
</div>
<div id="createDirectoryModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="createDirectoryModal"
     aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Create Directory</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <input type="text" name="directoryName" id="directoryName">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="createBtn">Create</button>
            </div>
        </div>
    </div>
</div>
<script>


</script>

</body>
</html>
